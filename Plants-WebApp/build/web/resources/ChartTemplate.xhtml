<?xml version='1.0' encoding='UTF-8' ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    
    
    <head>  
        <script>
        window.onload = function () {

        var chart = new CanvasJS.Chart("chartContainer", {
            title: {
                    text: "#{chart.title}"
            },
            axisX: {
                    valueFormatString: "#{chart.axisXValueFormat}"
            },
            axisY2: {
                    title: "#{chart.axisYTitle}",
                    suffix: "#{chart.axisYSuffix}"
            },
            toolTip: {
                    shared: true
            },
            legend: {
                    cursor: "pointer",
                    verticalAlign: "top",
                    horizontalAlign: "center",
                    dockInsidePlotArea: true,
                    itemclick: toogleDataSeries
            },
            data: [ #{chart.pointsData} ]
        });
        chart.render();

        function toogleDataSeries(e){
                if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                        e.dataSeries.visible = false;
                } else{
                        e.dataSeries.visible = true;
                }
                chart.render();
        }

        }
        </script>
    </head>
<body>
    <h:form target="">
        <h:commandButton action="#{chartGenerator.request}" value="Wykres"/>
    </h:form>
    
    <div id="chartContainer" style="height: 300px; width: 100%;"></div>
    
    <ui:insert name="content"></ui:insert>
    
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
</body>

</html>
